# ============================================================================
# 3X-UI Docker Конфигурация
# ============================================================================
# Скопируйте этот файл в .env и отредактируйте под свой сервер:
#   cp .env.example .env
#   nano .env
# ============================================================================

# ============================================================================
# ОСНОВНЫЕ НАСТРОЙКИ
# ============================================================================

# Порт веб-панели (HTTPS)
XUI_PORT=2053

# Домен панели (SSL сертификаты формируются автоматически)
# Пример: panel.example.com или lat1.oasislow.ru
XUI_DOMAIN=panel.example.com

# Email администратора (для Let's Encrypt уведомлений об истечении)
XUI_ADMIN_EMAIL=admin@example.com

# Базовый путь панели (для скрытия URL)
# Примеры: / или /secretpath/ или /oijfwoeiEWDW/
# ВАЖНО: путь должен начинаться и заканчиваться на /
XUI_BASE_PATH=/

# ============================================================================
# SSL СЕРТИФИКАТЫ
# ============================================================================
# По умолчанию пути формируются автоматически из XUI_DOMAIN:
#   /etc/letsencrypt/live/${XUI_DOMAIN}/fullchain.pem
#   /etc/letsencrypt/live/${XUI_DOMAIN}/privkey.pem
#
# Раскомментируйте ТОЛЬКО если пути нестандартные:
# XUI_CERT_FILE=/custom/path/fullchain.pem
# XUI_KEY_FILE=/custom/path/privkey.pem

# ============================================================================
# ПОДПИСКА (Subscription Server)
# ============================================================================

# Порт сервера подписок (HTTPS)
XUI_SUB_PORT=2096

# Путь подписок (должен начинаться и заканчиваться на /)
XUI_SUB_PATH=/sub/

# Включить сервер подписок
XUI_SUB_ENABLE=true

# Отдельный домен для подписки (опционально)
# Если указан — автоматически выпускается отдельный сертификат
# Если не указан — используется XUI_DOMAIN
# XUI_SUB_DOMAIN=sub.example.com

# ============================================================================
# БЕЗОПАСНОСТЬ
# ============================================================================

# Fail2ban — защита от брутфорса IP лимитов
XUI_ENABLE_FAIL2BAN=true

# Длительность бана в минутах (после превышения лимита IP)
XUI_FAIL2BAN_BANTIME=30

# Количество нарушений до бана
XUI_FAIL2BAN_MAXRETRY=2

# Окно времени для подсчёта нарушений (секунды)
XUI_FAIL2BAN_FINDTIME=32

# Таймаут сессии панели (минуты)
XUI_SESSION_TIMEOUT=60

# Часовой пояс сервера (по умолчанию Local = UTC)
# XUI_TIMEZONE=Europe/Moscow
